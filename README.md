# LandUseMap
Code for paper "Quantifying the Albedo of the Montreal Island and its Potential for Increase". We used QGIS version 3.20.3-Odense to generate this map.
## Map Description
This is a map of four land use categories in Montreal, before correction for under-sampling. Land use is divided into four types: (1) roofs; (2) roadways, not including roadside parking or shoulders; (3) vegetation; and (4) impervious other. Impervious other is defined as all land uses which do not fall into the first three categories. This encompasses variety of man-made features including sidewalks, construction areas, railways, etc. It is important to note that the surface area seen in this map is not representitive of the final surface area of these land use types; these categories were subsequently corrected to account for systemic under-sampling within the data, but these changes are not reflected in this map. The vegetation category was also supplemented through the threshold-based classification of satellite imagery, but due to image licensing restrictions, we are not able to make that code and data public. 
## To Run
Open https://github.com/sasgilmer/LandUseMap/blob/main/LandUseMap.qgz in QGIS. To zoom to Montreal, right click on the Roadways layer in the Layers panel on the bottom left. Then choose the option "Zoom to Layer(s)"
## Dataset Creation
### Island outline
The .shape file (.shp) for the Island of Montreal was collected from the City of Montreal’s Données ouvertes database (https://donnees.montreal.ca/ville-de-montreal/limites-terrestres). The City of Montreal has an open data policy that mandates it to disseminate much of the data it collects to the public online and under an open license, that is, one without restrictions.
In order to be able to calculate areas taken up by each category, the appropriate coordinate reference system (CRS) must be assigned to each one. QGIS uses EPSG codes for its CRSs. EPSG codes refer to specific CRSs in the EPSG Geodetic Parameter Dataset online database. Using EPSG code 26918, the specific CRS for the Montreal area is applied to the .shp file.
### Building roofs
We determined that using building footprints was an adequate analogue for building roofs. The GeoJSON file for building roofs on the Island of Montreal was collected from Microsoft’s Canadian Building Footprints dataset (https://github.com/Microsoft/CanadianBuildingFootprints). In collaboration with Statistics Canada, Microsoft released, under an open license, this dataset that contains almost 12 million computer generated building footprints throughout canada. However, this computer generated dataset only has a recall rate of 72.3%, indicating that not all building footprints are present.
To supplement this, we incorporated datasets from OpenStreetMap using QGIS’s QuickOSM plugin. We used all of the values for 'building' provided by QuickOSM, as well as 'building - detached' and 'building - residential'.
After importing both the Microsoft and OpenStreetMap datasets into QGIS, we combined the datasets into a single layer using the Vector - Union function of the software. To isolate the building footprints specific to the Island of Montreal, we used the Vector - Intersection function, using the island outline layer to ‘cookie cut’ the segment of buildings on the island.
As with the previous section, EPSG code 26918 was applied to this layer using the aforementioned process.
### Green spaces
The .shp files for green spaces on the Island of Montreal was collected from the Government of Canada’s CanVec Series, particularly their Constructions and Land Use in Canada dataset (https://open.canada.ca/data/en/dataset/fd4369a4-21fe-4070-914a-067474da0fd6). This dataset, compiled and published with an open license, contains data from the best available geospatial data sources in Canada. We used two sub-datasets (leisure_area_2 and ritual_cultural_area_2) from this particular dataset, the former being large, man-made parks and the latter being large graveyards. 
After realizing that the CanVec Series would not provide the complete coverage of green spaces on the Island of Montreal that we were looking for, we turned to OpenStreetMap as a supplementary data source. Using QGIS’s QuickOSM plugin, we imported several datasets directly into QGIS. As with the previous section, we combined all the datasets into a single layer using the Vector - Union function and isolated the Montreal-specific elements using the Vector - Intersection function in conjunction with the island outline layer. As before, EPSG code 26918 was applied to this layer using the aforementioned process. Finally, to account for roads within parks, we removed any green space area which intersected with roads.
### Roadways
The files for roads on the Island of Montreal were collected from the Government of Canada’s CanVec Series, particularly their Transport Networks in Canada dataset (https://open.canada.ca/data/en/dataset/2dac78ba-8543-48a6-8f07-faeef56f9895/resource/81f567ab-7aba-4be8-b07f-e3dc16a7fbbc). As with the previous section, this dataset, compiled and published with an open license, contains data from the best available geospatial data sources in Canada. We used three sub-datasets (road_segment_1_3, runway_2, and trail_1) from this particular dataset. Next, we analyzed the lane number attribute of the data. We replaced all missing lane number values with 1. Roads with missing lane numbers only accounted for 1.89% of our data, so this is not our main source of uncertainty. Then, we examined the distribution of the number of lanes of the roads in our dataset. 
We observe that the vast majority of roads have one or two lanes, and no road has more than seven. With this distribution in mind, we sampled 35 roads from around the island of Montreal and recorded the number of lanes in each, as well as measured the width of the lanes combined. 
The average lane is 3.63 m wide, so we use this value to buffer our roads. This aligns with the official lane width of 3.5 m. 
